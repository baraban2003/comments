{"ast":null,"code":"import _toConsumableArray from\"/Users/vb/comments/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/vb/comments/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{customAlphabet}from'nanoid';import s from'./ItemList.module.css';import useLocalState from'../../hooks';import Item from'../Item/Item';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ItemList(){var _useLocalState=useLocalState('items',[]),_useLocalState2=_slicedToArray(_useLocalState,2),items=_useLocalState2[0],setItems=_useLocalState2[1];var _useLocalState3=useLocalState('activeItem',[]),_useLocalState4=_slicedToArray(_useLocalState3,2),activeItem=_useLocalState4[0],setActiveItem=_useLocalState4[1];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var nanoid=customAlphabet('1234567890',8);var id=nanoid();var handleChange=function handleChange(event){setName(event.target.value);};var handleSubmit=function handleSubmit(event){event.preventDefault();setItems([].concat(_toConsumableArray(items),[{id:id,name:name,comments:[]}]));setName('');};var deleteEl=function deleteEl(elem){var deleted=items.filter(function(e){return e.id!==elem;});setItems(deleted);};var activate=function activate(event){var active=items.filter(function(e){return e.id==event.target.id;});setActiveItem(active);};return/*#__PURE__*/_jsxs(\"div\",{className:s.itemForm,children:[/*#__PURE__*/_jsx(\"h2\",{className:s.itemName,children:\"Items\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:s.itemFormElem,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Type name here...\",className:s.name,type:\"text\",name:\"name\",title:\"Place for adding items\",required:true,value:name,onChange:handleChange,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:s.button,children:\"Add Item\"})]})}),/*#__PURE__*/_jsx(\"ul\",{className:s.listGroup,children:items.map(function(e){var _activeItem$;var isActive=(activeItem===null||activeItem===void 0?void 0:(_activeItem$=activeItem[0])===null||_activeItem$===void 0?void 0:_activeItem$.id)===e.id;return/*#__PURE__*/_jsx(\"div\",{className:isActive?s.picker:'',children:/*#__PURE__*/_jsx(Item,{id:e.id,itemName:e.name,deleteEl:deleteEl,comentsCalc:e.comments.length,active:activate},e.id)});})})]});}","map":{"version":3,"names":["useState","customAlphabet","s","useLocalState","Item","jsx","_jsx","jsxs","_jsxs","ItemList","_useLocalState","_useLocalState2","_slicedToArray","items","setItems","_useLocalState3","_useLocalState4","activeItem","setActiveItem","_useState","_useState2","name","setName","nanoid","id","handleChange","event","target","value","handleSubmit","preventDefault","concat","_toConsumableArray","comments","deleteEl","elem","deleted","filter","e","activate","active","className","itemForm","children","itemName","onSubmit","itemFormElem","placeholder","type","title","required","onChange","autoComplete","button","listGroup","map","_activeItem$","isActive","picker","comentsCalc","length"],"sources":["/Users/vb/comments/src/components/ItemList/ItemList.tsx"],"sourcesContent":["import { Key, useEffect, useState } from 'react';\nimport { customAlphabet } from 'nanoid';\nimport s from './ItemList.module.css';\nimport useLocalState from '../../hooks';\nimport Item from '../Item/Item';\n\nexport default function ItemList() {\n  const [items, setItems] = useLocalState('items', []);\n  const [activeItem, setActiveItem] = useLocalState('activeItem', []);\n\n  const [name, setName] = useState('');\n\n  const nanoid = customAlphabet('1234567890', 8);\n  const id = nanoid();\n\n  const handleChange = (event: { target: any }) => {\n    setName(event.target.value);\n  };\n\n  const handleSubmit = (event: { target: any; preventDefault: () => void }) => {\n    event.preventDefault();\n\n    setItems([...items, ...[{ id, name, comments: [] }]]);\n\n    setName('');\n  };\n\n  const deleteEl = (elem: any) => {\n    const deleted = items.filter((e: { id: any }) => e.id !== elem);\n    setItems(deleted);\n  };\n\n  const activate = (event: any) => {\n    const active = items.filter((e: { id: any }) => e.id == event.target.id);\n    setActiveItem(active);\n  };\n\n  return (\n    <div className={s.itemForm}>\n      <h2 className={s.itemName}>Items</h2>\n      <form onSubmit={handleSubmit}>\n        <div className={s.itemFormElem}>\n          <input\n            placeholder=\"Type name here...\"\n            className={s.name}\n            type=\"text\"\n            name=\"name\"\n            title=\"Place for adding items\"\n            required\n            value={name}\n            onChange={handleChange}\n            autoComplete=\"off\"\n          />\n\n          <button type=\"submit\" className={s.button}>\n            Add Item\n          </button>\n        </div>\n      </form>\n      <ul className={s.listGroup}>\n        {items.map(\n          (e: {\n            comments: any;\n            d: Key | null | undefined;\n            id: string;\n            name: string;\n          }) => {\n            const isActive = activeItem?.[0]?.id === e.id;\n            return (\n              <div className={isActive ? s.picker : ''}>\n                <Item\n                  key={e.id}\n                  id={e.id}\n                  itemName={e.name}\n                  deleteEl={deleteEl}\n                  comentsCalc={e.comments.length}\n                  active={activate}\n                />\n              </div>\n            );\n          }\n        )}\n      </ul>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}