{"ast":null,"code":"import _toConsumableArray from\"/Users/vb/comments/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/vb/comments/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{customAlphabet}from'nanoid';import s from'./ItemList.module.css';import useLocalState from'../../hooks';import Item from'../Item/Item';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ItemList(){var _useLocalState=useLocalState('items',[]),_useLocalState2=_slicedToArray(_useLocalState,2),items=_useLocalState2[0],setItems=_useLocalState2[1];var _useLocalState3=useLocalState('activeItem',[]),_useLocalState4=_slicedToArray(_useLocalState3,2),activeItem=_useLocalState4[0],setActiveItem=_useLocalState4[1];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var nanoid=customAlphabet('1234567890',8);var id=nanoid();var handleChange=function handleChange(event){setName(event.target.value);};var handleSubmit=function handleSubmit(event){event.preventDefault();var newItem={id:id,name:name,comments:[]};setItems([].concat(_toConsumableArray(items),[newItem]));setActiveItem([newItem]);setName('');};var activate=function activate(event){var activeId=event.currentTarget.id;var active=items.filter(function(e){return e.id===activeId;});setActiveItem(active);};var deleteEl=function deleteEl(elemId){var deleted=items.filter(function(e){return e.id!==elemId;});setItems(deleted);setTimeout(function(){setActiveItem([items[0]]);},1);};return/*#__PURE__*/_jsxs(\"div\",{className:s.itemForm,children:[/*#__PURE__*/_jsx(\"h2\",{className:s.itemName,children:\"Items\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:s.itemFormElem,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Type name here...\",className:s.name,type:\"text\",name:\"name\",title:\"Place for adding items\",required:true,value:name,onChange:handleChange,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:s.button,children:\"Add Item\"})]})}),/*#__PURE__*/_jsx(\"ul\",{className:s.listGroup,children:items.map(function(e,index){var _activeItem$;var isActive=(activeItem===null||activeItem===void 0?void 0:(_activeItem$=activeItem[0])===null||_activeItem$===void 0?void 0:_activeItem$.id)===e.id;return/*#__PURE__*/_jsx(\"div\",{className:isActive?s.picker:'',children:/*#__PURE__*/_jsx(Item,{id:e.id,itemName:e.name,deleteEl:deleteEl,comentsCalc:e.comments.length,active:activate},e.id)},e.id+index);})})]});}","map":{"version":3,"names":["useState","customAlphabet","s","useLocalState","Item","jsx","_jsx","jsxs","_jsxs","ItemList","_useLocalState","_useLocalState2","_slicedToArray","items","setItems","_useLocalState3","_useLocalState4","activeItem","setActiveItem","_useState","_useState2","name","setName","nanoid","id","handleChange","event","target","value","handleSubmit","preventDefault","newItem","comments","concat","_toConsumableArray","activate","activeId","currentTarget","active","filter","e","deleteEl","elemId","deleted","setTimeout","className","itemForm","children","itemName","onSubmit","itemFormElem","placeholder","type","title","required","onChange","autoComplete","button","listGroup","map","index","_activeItem$","isActive","picker","comentsCalc","length"],"sources":["/Users/vb/comments/src/components/ItemList/ItemList.tsx"],"sourcesContent":["import { Key, useState, MouseEvent } from 'react';\nimport { customAlphabet } from 'nanoid';\nimport s from './ItemList.module.css';\nimport useLocalState from '../../hooks';\nimport Item from '../Item/Item';\n\ninterface ItemData {\n  id: string;\n  name: string;\n  comments: any[];\n}\n\nexport default function ItemList() {\n  const [items, setItems] = useLocalState('items', []);\n  const [activeItem, setActiveItem] = useLocalState('activeItem', []);\n\n  const [name, setName] = useState('');\n\n  const nanoid = customAlphabet('1234567890', 8);\n  const id = nanoid();\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setName(event.target.value);\n  };\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const newItem = { id, name, comments: [] };\n    setItems([...items, ...[newItem]]);\n\n    setActiveItem([newItem]);\n    setName('');\n  };\n\n  const activate = (event: MouseEvent<HTMLDivElement>) => {\n    const activeId = event.currentTarget.id;\n    const active = items.filter((e: ItemData) => e.id === activeId);\n    setActiveItem(active);\n  };\n\n  const deleteEl = (elemId: number) => {\n    const deleted = items.filter((e: { id: number }) => e.id !== elemId);\n    setItems(deleted);\n\n    setTimeout(() => {\n      setActiveItem([items[0]]);\n    }, 1);\n  };\n\n  return (\n    <div className={s.itemForm}>\n      <h2 className={s.itemName}>Items</h2>\n      <form onSubmit={handleSubmit}>\n        <div className={s.itemFormElem}>\n          <input\n            placeholder=\"Type name here...\"\n            className={s.name}\n            type=\"text\"\n            name=\"name\"\n            title=\"Place for adding items\"\n            required\n            value={name}\n            onChange={handleChange}\n            autoComplete=\"off\"\n          />\n\n          <button type=\"submit\" className={s.button}>\n            Add Item\n          </button>\n        </div>\n      </form>\n      {\n        <ul className={s.listGroup}>\n          {items.map(\n            (\n              e: {\n                comments: any;\n                d: Key | null | undefined;\n                id: string;\n                name: string;\n              },\n              index: string\n            ) => {\n              const isActive = activeItem?.[0]?.id === e.id;\n              return (\n                <div className={isActive ? s.picker : ''} key={e.id + index}>\n                  <Item\n                    key={e.id}\n                    id={e.id}\n                    itemName={e.name}\n                    deleteEl={deleteEl}\n                    comentsCalc={e.comments.length}\n                    active={activate}\n                  />\n                </div>\n              );\n            }\n          )}\n        </ul>\n      }\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}