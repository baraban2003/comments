{"ast":null,"code":"import _slicedToArray from\"/Users/vb/comments/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import s from'./CommentsList.module.css';import useLocalState from'../../hooks';import Comments from'../Comments/Comments';import{customAlphabet}from'nanoid';import{HexColorPicker}from'react-colorful';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function CommentsList(){var _useLocalState=useLocalState('items',[]),_useLocalState2=_slicedToArray(_useLocalState,2),items=_useLocalState2[0],setItems=_useLocalState2[1];var _useLocalState3=useLocalState('activeItem',[]),_useLocalState4=_slicedToArray(_useLocalState3,2),activeItem=_useLocalState4[0],setActiveItem=_useLocalState4[1];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),colorPickerVisible=_useState4[0],setColorPickerVisible=_useState4[1];var _useState5=useState('#000000'),_useState6=_slicedToArray(_useState5,2),color=_useState6[0],setColor=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),commentColors=_useState8[0],setCommentColors=_useState8[1];var nanoid=customAlphabet('1234567890',8);var idNano=nanoid();var handleChange=function handleChange(event){setName(event.target.value);};var handleSubmit=function handleSubmit(event){event.preventDefault();var updatedItems=items.map(function(i){if(i.id==activeItem[0].id){i.comments.push([activeItem[0].id,name,idNano,color]);}return i;});setItems(updatedItems);setName('');setColor('#000000');var active=items.filter(function(e){return e.id==activeItem[0].id;});setActiveItem(active);};var handleColorChange=function handleColorChange(){setColorPickerVisible(!colorPickerVisible);};return/*#__PURE__*/_jsxs(\"div\",{className:s.commentsBlok,children:[activeItem&&activeItem[0]&&activeItem[0].comments?/*#__PURE__*/_jsxs(\"h2\",{className:s.commentsName,children:[\"Comments\",\" #\".concat(activeItem[0].id)]}):null,/*#__PURE__*/_jsx(\"ul\",{className:s.listCommentsName,children:activeItem&&activeItem[0]&&activeItem[0].comments?activeItem[0].comments.map(function(e){return/*#__PURE__*/_jsx(Comments,{commentName:e[1],color:e[3]},e[2]);}):/*#__PURE__*/_jsx(\"p\",{children:\"No comments available\"})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:s.commentsBlokElem,children:[/*#__PURE__*/_jsx(\"div\",{className:s.colorInputBlock,style:{backgroundColor:color},onClick:handleColorChange}),colorPickerVisible&&/*#__PURE__*/_jsx(HexColorPicker,{className:s.colorPicker,color:color,onChange:setColor,style:{position:'absolute',zIndex:1}}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Type comment here...\",className:s.nameTextarea,name:\"name\",title:\"Place for comments\",required:true,value:name,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:s.commentsAddButton,children:\"Add new\"})]})})]});}","map":{"version":3,"names":["React","useState","s","useLocalState","Comments","customAlphabet","HexColorPicker","jsxs","_jsxs","jsx","_jsx","CommentsList","_useLocalState","_useLocalState2","_slicedToArray","items","setItems","_useLocalState3","_useLocalState4","activeItem","setActiveItem","_useState","_useState2","name","setName","_useState3","_useState4","colorPickerVisible","setColorPickerVisible","_useState5","_useState6","color","setColor","_useState7","_useState8","commentColors","setCommentColors","nanoid","idNano","handleChange","event","target","value","handleSubmit","preventDefault","updatedItems","map","i","id","comments","push","active","filter","e","handleColorChange","className","commentsBlok","children","commentsName","concat","listCommentsName","commentName","onSubmit","commentsBlokElem","colorInputBlock","style","backgroundColor","onClick","colorPicker","onChange","position","zIndex","placeholder","nameTextarea","title","required","type","commentsAddButton"],"sources":["/Users/vb/comments/src/components/CommentsList/CommentsList.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport s from './CommentsList.module.css';\nimport useLocalState from '../../hooks';\nimport Comments from '../Comments/Comments';\nimport { customAlphabet } from 'nanoid';\nimport { HexColorPicker } from 'react-colorful';\n\nexport default function CommentsList() {\n  const [items, setItems] = useLocalState('items', []);\n\n  const [activeItem, setActiveItem] = useLocalState('activeItem', []);\n  const [name, setName] = useState('');\n\n  const [colorPickerVisible, setColorPickerVisible] = useState(false);\n  const [color, setColor] = useState('#000000');\n  const [commentColors, setCommentColors] = useState({});\n\n  const nanoid = customAlphabet('1234567890', 8);\n  const idNano = nanoid();\n\n  const handleChange = (event: { target: any }) => {\n    setName(event.target.value);\n  };\n\n  const handleSubmit = (event: { target: any; preventDefault: () => void }) => {\n    event.preventDefault();\n\n    const updatedItems = items.map((i: { comments: any; id: any }) => {\n      if (i.id == activeItem[0].id) {\n        i.comments.push([activeItem[0].id, name, idNano, color]);\n      }\n      return i;\n    });\n    setItems(updatedItems);\n    setName('');\n    setColor('#000000');\n\n    const active = items.filter((e: { id: any }) => e.id == activeItem[0].id);\n    setActiveItem(active);\n  };\n\n  const handleColorChange = () => {\n    setColorPickerVisible(!colorPickerVisible);\n  };\n\n  return (\n    <div className={s.commentsBlok}>\n      {activeItem && activeItem[0] && activeItem[0].comments ? (\n        <h2 className={s.commentsName}>Comments{` #${activeItem[0].id}`}</h2>\n      ) : null}\n      <ul className={s.listCommentsName}>\n        {activeItem && activeItem[0] && activeItem[0].comments ? (\n          activeItem[0].comments.map((e: string) => (\n            <Comments commentName={e[1]} color={e[3]} key={e[2]} />\n          ))\n        ) : (\n          <p>No comments available</p>\n        )}\n      </ul>\n      <form onSubmit={handleSubmit}>\n        <div className={s.commentsBlokElem}>\n          <div\n            className={s.colorInputBlock}\n            style={{\n              backgroundColor: color,\n            }}\n            onClick={handleColorChange}\n          ></div>\n          {colorPickerVisible && (\n            <HexColorPicker\n              className={s.colorPicker}\n              color={color}\n              onChange={setColor}\n              style={{\n                position: 'absolute',\n                zIndex: 1,\n              }}\n            />\n          )}\n          <textarea\n            placeholder=\"Type comment here...\"\n            className={s.nameTextarea}\n            name=\"name\"\n            title=\"Place for comments\"\n            required\n            value={name}\n            onChange={handleChange}\n          />\n\n          <button type=\"submit\" className={s.commentsAddButton}>\n            Add new\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}